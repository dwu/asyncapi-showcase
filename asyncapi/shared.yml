channels:
  orders:
    address: orders
    messages:
      orderCreated.message:
        $ref: '#/components/messages/orderCreated'
    description: The topic where order events are published and consumed
  invoices:
    address: invoices
    messages:
      invoiceCreated.message:
        $ref: '#/components/messages/invoiceCreated'
    description: >-
      The topic where notifications about new invoices are published and
      consumed    
components:
  messages:
    orderCreated:
      name: orderCreated
      title: Order created message
      summary: Information that an order was created
      contentType: application/json
      payload:
        $ref: '#/components/schemas/OrderCreated'
    invoiceCreated:
      name: invoiceCreated
      title: Invoice created message
      summary: Information that an invoice was created
      contentType: application/json
      payload:
        $ref: '#/components/schemas/InvoiceCreated'        
  schemas:
    OrderCreated:
      type: object
      properties:
        id:
          type: string
          description: Order ID
        customerid:
          type: string
          description: Customer ID
        productid:
          type: string
          description: Product ID
        amount:
          type: integer
          description: How many products are ordered
    InvoiceCreated:
      type: object
      properties:
        id:
          type: string
          description: Invoice ID
        customerid:
          type: string
          description: Customer ID
        orderid:
          type: string
          description: Order ID
        invoiceamount:
          type: number
