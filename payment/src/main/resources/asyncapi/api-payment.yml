asyncapi: 3.0.0
info:
  title: Payment
  version: 1.0.0
  description: |
    Delivery API for showcase
defaultContentType: application/json
servers:
  production:
    host: 'localhost:5672'
    protocol: amqp
    description: Message broker
operations:
  orderCreated:
    action: receive
    channel:
      $ref: '../../asyncapi/shared.yml#/channels/orders'
    summary: >-
      The payment service receives information about orders when they are
      created to issue an invoice
    messages:
      - $ref: '../../asyncapi/shared.yml#/channels/orders/messages/orderCreated.message'
  invoiceCreated:
    action: send
    channel:
      $ref: '../../asyncapi/shared.yml#/channels/invoices'
    summary: The payment service pulished notification when an invoice is issued
    messages:
      - $ref: '../../asyncapi/shared.yml#/channels/invoices/messages/invoiceCreated.message'
