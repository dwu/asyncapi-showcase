asyncapi: 3.0.0
info:
  title: Delivery
  version: 1.0.0
  description: |
    Delivery API for showcase
defaultContentType: application/json
servers:
  production:
    host: 'localhost:5672'
    protocol: amqp
    description: Message broker
operations:
  orderCreated:
    action: receive
    channel:
      $ref: '../../asyncapi/shared.yml#/channels/orders'
    summary: >-
      The delivery service receives information about orders when they are
      created to prepare delivery
    messages:
      - $ref: '../../asyncapi/shared.yml#/channels/orders/messages/orderCreated.message'
  invoiceCreated:
    action: receive
    channel:
      $ref: '../../asyncapi/shared.yml#/channels/invoices'
    summary: >-
      The delivery service receives invoice notifications after an invoice has
      been issued to finalize delivery processing
    messages:
      - $ref: '../../asyncapi/shared.yml#/channels/invoices/messages/invoiceCreated.message'
